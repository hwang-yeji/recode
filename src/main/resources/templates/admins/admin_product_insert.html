<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/admin_header.css">
    <link rel="stylesheet" href="/css/adminsCss/admin_product_insert.css">
    <script src="/js/jquery.js"></script>
    <script src="/js/admin_header.js"></script>
    <script src="/js/admin_product_insert.js"></script>
    <title>관리자 - 상품 등록</title>
</head>
<body>
<th:block th:include="layouts/admin_header"></th:block>
<main>
    <form action="/admin/product/upload" method="post" enctype="multipart/form-data">
        <input type="hidden" name="productId" th:value="${product != null ? product.productId : null}">
        <div class="box">
            <p id="boxTitle" th:text="${product != null ? '상품 수정' : '상품 등록'}"></p>
            <div id="insertBox">
                <ul>
                    <li>
                        <p>구분</p>
                        <select name="productCategory" required>
                            <option value="" hidden>선택하세요</option>
                            <option value="크로스백">크로스백</option>
                            <option value="숄더백">숄더백</option>
                            <option value="클러치">클러치</option>
                            <option value="지갑">지갑</option>
                            <option value="백팩">백팩</option>
                            <option th:value="${product != null ? product.productCategory : ''}" th:selected="${product != null}" hidden th:text="${product != null ? product.productCategory : ''}"></option>
                        </select>
                    </li>
                    <li>
                        <label for="name">상품명</label>
                        <input type="text" id="name" required name="productName" th:value="${product != null ? product.productName : ''}">
                    </li>
                    <li>
                        <label for="mainImg">대표 이미지</label>
                        <input type="file" id="mainImg" name="productRepImg"> <!-- 수정 -->
                        <input type="hidden" th:value="${product != null ? product.productRepresentativeImgSrc : ''}"> <!-- 보류 -->
                        <div>
                            <img id="mainImgShow" th:src="${product != null && product.productRepresentativeImgSrc != '' ? 'http://192.168.106.12/fileServer' + product.productRepresentativeImgSrc : ''}">
                        </div>
                    </li>
                    <li>
                        <label for="price">판매가</label>
                        <input type="text" id="price" required name="productRegularPrice" th:value="${product != null ? product.productRegularPrice : ''}">
                    </li>
                    <li>
                        <label for="sales">할인가</label>
                        <input type="text" id="sales" name="productDiscountPrice" th:value="${product != null ? product.productDiscountPrice : ''}">
                    </li>
                    <li>
                        <label for="model">모델명</label>
                        <input type="text" id="model" required name="productModel" th:value="${product != null ? product.productModel : ''}">
                    </li>
                    <li>
                        <label for="color">색상</label>
                        <input type="text" id="color" required name="productColor" th:value="${product != null ? product.productColor : ''}">
                    </li>
                    <li>
                        <label for="keyword">유형</label>
                        <input type="text" id="keyword" required name="productType" th:value="${product != null ? product.productType : ''}">
                    </li>
                    <li>
                        <label for="size">규격</label>
                        <input type="text" id="size" required name="productSize" th:value="${product != null ? product.productSize : ''}">
                    </li>
                    <li>
                        <label for="texture">재질</label>
                        <input type="text" id="texture" required name="productMaterial" th:value="${product != null ? product.productMaterial : ''}">
                    </li>
                    <li>
                        <label for="detailImg">상세 이미지</label>
                        <input type="file" id="detailImg" multiple name="productExtImg">
                        <div id="detailImgShowBox">
                            <img th:each="productImg : ${productImgs}" class="detailImgShow" th:src="'http://192.168.106.12/fileServer' + ${productImg.productImgSrc}">
                        </div>
                    </li>
                </ul>
                <div class="buttonBox">
                    <button type="submit" th:text="${product != null ? '수정' : '등록'}"></button>
                    <a th:href="${product != null ? '/admin/product/' + product.productId + '/show' : '/admin/product/index'}">취소</a>
                </div>
            </div>
        </div>
    </form>
</main>
</body>
</html>